apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.fullNameOverride | default .Release.Name }}
  namespace: {{ .Release.Namespace }}
  labels:
    app: {{ .Values.fullNameOverride | default .Release.Name }}
data:
  config.yaml: |-
    debug: {{.Values.debug }}
    gateway:
      auth_server:
        url: {{ .Values.config.auth_server.url }}
        timeout: {{ .Values.config.auth_server.timeout }}
      stats_server:
        url: {{ .Values.config.stats_server.url }}
        timeout: {{ .Values.config.stats_server.timeout }}
      log:
        access_log: {{- toYaml .Values.config.log.access_log | nindent 10 }}
